{
  "title": "Comprehensive Calculation Test",
  "storageKey": "qa-calculation-test",
  "testingOrder": "Follow sections 1–14 in order. Each section builds on the data from previous sections. Do NOT skip ahead — calculations depend on all prior imports being complete.",
  "sections": [
    {
      "title": "1. Environment Setup",
      "groups": [
        {
          "name": "Database & Server",
          "items": [
            "Run 'npm run db:reset' to start with a fresh database",
            "Run 'npm run dev' to start the development server",
            "Navigate to http://localhost:5173 → Setup page appears with welcome message"
          ]
        },
        {
          "name": "Owner Account Creation",
          "items": [
            "Create owner account: username 'robert', display name 'Robert', set a password",
            "After setup, redirected to Dashboard",
            "Dashboard shows $0 for all KPIs (fresh database)"
          ]
        }
      ]
    },
    {
      "title": "2. User & Account Creation",
      "groups": [
        {
          "name": "Create Member User",
          "items": [
            "Navigate to Settings → Users & Permissions",
            "Click 'Add User' → create username 'sarah', display name 'Sarah', set a password",
            "Sarah appears in the user list with role 'member'"
          ]
        },
        {
          "name": "Create Accounts",
          "items": [
            "Navigate to Settings → Accounts",
            "Create account: name 'Robert's Checking', type 'Checking', owner: Robert",
            "Create account: name 'Rewards Visa', type 'Credit Card', owner: Robert",
            "Create account: name 'Sarah's Checking', type 'Checking', owner: Sarah",
            "Create account: name 'Savings Account', type 'Savings', owner: Robert",
            "All 4 accounts appear in the accounts list with correct types and owners"
          ]
        }
      ]
    },
    {
      "title": "3. Import: Robert's Checking — January 2026",
      "groups": [
        {
          "name": "Upload & Column Mapping",
          "items": [
            "Navigate to Import page",
            "Select 'Robert's Checking' as the target account",
            "Upload file: .github/test-data/checking-january.csv",
            "Verify 'Date' column auto-mapped to the Date field",
            "Verify 'Description' column auto-mapped to the Description field",
            "Verify 'Amount' column auto-mapped to the Amount field",
            "Verify sign convention defaults to 'Positive = money in, Negative = money out' (bank convention)",
            "Sample preview shows 5 rows of data correctly",
            "Click Next to proceed to Review & Categorize"
          ]
        },
        {
          "name": "Category Assignments (14 transactions)",
          "items": [
            "All 14 transactions appear in the review table",
            "Set DIRECT DEPOSIT - ACME CORP PAYROLL ($3,500.00 × 2) → Income: Take Home Pay",
            "Set INTEREST PAYMENT ($11.82) → Income: Interest Income",
            "Set KROGER #1234 ($92.15) → Daily Living: Groceries",
            "Set WALMART SUPERCENTER #3456 ($178.45) → Daily Living: Groceries",
            "Set CHIPOTLE #456 ($14.25) → Daily Living: Dining/Eating Out",
            "Set PET SUPPLIES PLUS ($32.50) → Daily Living: Pets",
            "Set SHELL OIL 57442 ($38.75) → Auto/Transportation: Fuel",
            "Set MIDAS AUTO SERVICE ($245.00) → Auto/Transportation: Service",
            "Set HULU SUBSCRIPTION ($17.99) → Entertainment: Other Entertainment",
            "Set DUKE ENERGY AUTOPAY ($142.30) → Utilities: Power",
            "Set AT&T WIRELESS PAYMENT ($89.50) → Utilities: Phone",
            "Set CITY WATER UTILITY ($42.00) → Utilities: Water",
            "Set PROPERTY MGMT CO - RENT ($1,500.00) → Household: Rent",
            "Verify all 14 transactions have categories assigned (no blanks)"
          ]
        },
        {
          "name": "Commit & Verify",
          "items": [
            "All 14 transactions are checked (selected for import)",
            "Click Import → success toast appears",
            "Navigate to Transactions page → 14 transactions visible for January 2026",
            "Verify income transactions (DIRECT DEPOSIT, INTEREST) display in green with + prefix",
            "Verify expense transactions display in black with no prefix"
          ]
        }
      ]
    },
    {
      "title": "4. Import: Robert's Checking — February 2026",
      "groups": [
        {
          "name": "Upload & Column Mapping",
          "items": [
            "Navigate to Import page",
            "Select 'Robert's Checking' as the target account",
            "Upload file: .github/test-data/checking-february.csv",
            "Verify columns auto-mapped correctly (Date, Description, Amount)",
            "Verify bank sign convention selected",
            "Click Next to proceed to Review & Categorize"
          ]
        },
        {
          "name": "Category Assignments (14 transactions) — includes refund",
          "items": [
            "All 14 transactions appear in the review table",
            "Set DIRECT DEPOSIT - ACME CORP PAYROLL ($3,500.00 × 2) → Income: Take Home Pay",
            "Set INTEREST PAYMENT ($12.45) → Income: Interest Income",
            "Set KROGER #1234 ($85.47) → Daily Living: Groceries",
            "Set WALMART SUPERCENTER #3456 ($156.32) → Daily Living: Groceries",
            "Set OLIVE GARDEN #892 ($67.23) → Daily Living: Dining/Eating Out",
            "Set AMAZON MARKETPLACE REFUND → Daily Living: Other Daily Living ⚠️ NOTE: This is $29.99 POSITIVE in bank convention (money coming in). It will be stored as -$29.99 (a negative expense = refund)",
            "Set SHELL OIL 57442 ($42.30) → Auto/Transportation: Fuel",
            "Set JIFFY LUBE #7890 ($89.99) → Auto/Transportation: Service",
            "Set NETFLIX SUBSCRIPTION ($15.99) → Entertainment: Other Entertainment",
            "Set DUKE ENERGY AUTOPAY ($125.80) → Utilities: Power",
            "Set AT&T WIRELESS PAYMENT ($89.50) → Utilities: Phone",
            "Set CITY WATER UTILITY ($45.00) → Utilities: Water",
            "Set PROPERTY MGMT CO - RENT ($1,500.00) → Household: Rent"
          ]
        },
        {
          "name": "Commit & Verify",
          "items": [
            "All 14 transactions checked for import",
            "No duplicate warnings (first February import for this account)",
            "Click Import → success toast appears",
            "Navigate to Transactions → filter to February 2026 → 14 new transactions visible",
            "Verify AMAZON MARKETPLACE REFUND displays in GREEN with -$29.99 (negative expense = refund)"
          ]
        }
      ]
    },
    {
      "title": "5. Import: Rewards Visa — February 2026",
      "groups": [
        {
          "name": "Upload & Column Mapping",
          "items": [
            "Navigate to Import page",
            "Select 'Rewards Visa' as the target account",
            "Upload file: .github/test-data/visa-february.csv",
            "Verify 'Transaction Date' column auto-mapped to Date field",
            "Verify sign convention auto-set to 'Positive = money out, Negative = money in' (credit convention) since account is a credit card",
            "Click Next to proceed to Review & Categorize"
          ]
        },
        {
          "name": "Category Assignments & Transfer Detection (11 transactions)",
          "items": [
            "All 11 transactions appear in the review table",
            "Set TARGET #5678 ($134.56) → Clothing: Clothes/Shoes",
            "Set CHICK-FIL-A #234 ($12.87) → Daily Living: Dining/Eating Out",
            "Set CVS PHARMACY #9012 ($28.43) → Health: Medicine/Drug",
            "Set SPOTIFY PREMIUM ($10.99) → Entertainment: Other Entertainment",
            "Set RETURN CREDIT - TARGET (-$34.56) → Clothing: Clothes/Shoes ⚠️ This is a credit card refund, stored as -$34.56",
            "Set DR SMITH DDS ($150.00) → Health: Doctor/Dentist/Optometrist",
            "Set PETCO #345 ($45.67) → Daily Living: Pets",
            "Set BARNES & NOBLE #678 ($22.95) → Entertainment: Books/Magazine",
            "Set PROGRESSIVE INSURANCE ($175.00) → Insurance: Auto",
            "Set LOWES HOME IMPROVEMENT ($287.34) → Household: Improvements",
            "Verify PAYMENT THANK YOU (-$800.00) is flagged with a 'Transfer' or 'Likely Transfer' badge (matches 'payment' and 'thank you' keywords)"
          ]
        },
        {
          "name": "Skip Transfer & Commit",
          "items": [
            "UNCHECK the PAYMENT THANK YOU transaction (do NOT import — it's a transfer from checking to pay the credit card)",
            "Verify import count shows '10 of 11 Transactions' (or similar)",
            "Click Import → success toast appears",
            "Navigate to Transactions → filter to Rewards Visa → 10 transactions visible (PAYMENT excluded)",
            "Verify RETURN CREDIT - TARGET displays in GREEN with -$34.56 (refund on expense category)"
          ]
        }
      ]
    },
    {
      "title": "6. Import: Sarah's Checking — February 2026",
      "groups": [
        {
          "name": "Log In as Sarah",
          "items": [
            "Log out of Robert's account",
            "Log in as Sarah (username 'sarah')",
            "Dashboard loads — Sarah can see the app"
          ]
        },
        {
          "name": "Upload & Column Mapping",
          "items": [
            "Navigate to Import page (Sarah has import.csv permission by default)",
            "Select 'Sarah's Checking' as the target account",
            "Upload file: .github/test-data/sarah-checking-february.csv",
            "Verify columns auto-mapped correctly",
            "Verify bank sign convention selected",
            "Click Next to proceed to Review & Categorize"
          ]
        },
        {
          "name": "Category Assignments (8 transactions)",
          "items": [
            "All 8 transactions appear in the review table",
            "Set DIRECT DEPOSIT - TECH CORP ($2,800.00 × 2) → Income: Take Home Pay",
            "Set WHOLE FOODS MARKET ($112.34) → Daily Living: Groceries",
            "Set TRADER JOES ($78.90) → Daily Living: Groceries",
            "Set UBER RIDE ($18.50) → Auto/Transportation: Transportation",
            "Set YOGA STUDIO MONTHLY ($85.00) → Entertainment: Hobby",
            "Set SEPHORA ($45.00) → Daily Living: Personal Supplies",
            "Set STUDENT LOAN PMT ($350.00) → Loan: Personal Note"
          ]
        },
        {
          "name": "Commit & Verify",
          "items": [
            "All 8 transactions checked for import",
            "Click Import → success toast appears",
            "Navigate to Transactions → 8 transactions visible for Sarah's Checking",
            "Log out of Sarah's account and log back in as Robert for remaining tests"
          ]
        }
      ]
    },
    {
      "title": "7. Transaction Display Verification",
      "groups": [
        {
          "name": "Transaction Count & Filtering",
          "items": [
            "Navigate to Transactions page (logged in as Robert)",
            "Total transaction count across all dates: 46 transactions (14 Jan + 14 Feb checking + 10 Feb visa + 8 Sarah)",
            "Filter by account 'Robert's Checking' → 28 transactions (14 Jan + 14 Feb)",
            "Filter by account 'Rewards Visa' → 10 transactions",
            "Filter by account 'Sarah's Checking' → 8 transactions",
            "Filter by month February 2026 (all accounts) → 32 transactions (14 + 10 + 8)",
            "Filter by category type 'Income' → 7 income transactions total (2 Jan Robert + 3 Feb Robert + 2 Feb Sarah)"
          ]
        },
        {
          "name": "Amount Display Formatting",
          "items": [
            "Find DIRECT DEPOSIT - ACME CORP PAYROLL → displays GREEN with +$3,500.00",
            "Find INTEREST PAYMENT (Feb) → displays GREEN with +$12.45",
            "Find KROGER #1234 (Jan, $92.15) → displays BLACK with $92.15 (no sign prefix)",
            "Find AMAZON MARKETPLACE REFUND → displays GREEN with -$29.99 (negative expense = refund)",
            "Find RETURN CREDIT - TARGET → displays GREEN with -$34.56 (negative expense = refund)",
            "Find PROPERTY MGMT CO - RENT → displays BLACK with $1,500.00 (normal expense)",
            "All amounts use DM Mono font (monospaced numbers)"
          ]
        }
      ]
    },
    {
      "title": "8. Budget Setup — February 2026",
      "groups": [
        {
          "name": "Navigate to Budget Page",
          "items": [
            "Navigate to Budget page",
            "Select February 2026 as the month",
            "Select 'All' in the owner filter (if available)"
          ]
        },
        {
          "name": "Set Income Budgets",
          "items": [
            "Set Income: Take Home Pay budget → $7,000.00",
            "Set Income: Interest Income budget → $10.00"
          ]
        },
        {
          "name": "Set Expense Budgets",
          "items": [
            "Set Daily Living: Groceries budget → $300.00",
            "Set Daily Living: Dining/Eating Out budget → $75.00",
            "Set Daily Living: Pets budget → $50.00",
            "Set Auto/Transportation: Fuel budget → $50.00",
            "Set Auto/Transportation: Service budget → $100.00",
            "Set Entertainment: Other Entertainment budget → $30.00",
            "Set Utilities: Power budget → $150.00",
            "Set Utilities: Phone budget → $90.00",
            "Set Utilities: Water budget → $50.00",
            "Set Household: Rent budget → $1,500.00",
            "Set Health: Medicine/Drug budget → $50.00",
            "Set Insurance: Auto budget → $175.00",
            "Set Clothing: Clothes/Shoes budget → $100.00"
          ]
        }
      ]
    },
    {
      "title": "9. Budget Calculation Verification — All Users View",
      "groups": [
        {
          "name": "Income Budget (All View, February)",
          "items": [
            "Select 'All' owner filter on Budget page for February 2026",
            "Income: Take Home Pay → Budget $7,000.00, Actual $12,600.00, over by $5,600.00 (Robert $7,000 + Sarah $5,600)",
            "Income: Interest Income → Budget $10.00, Actual $12.45, over by $2.45"
          ]
        },
        {
          "name": "Expense Budget — Over Budget (All View)",
          "items": [
            "Groceries → Budget $300.00, Actual $433.03, OVER by $133.03 (Robert $241.79 + Sarah $191.24) — should show red/over indicator",
            "Dining/Eating Out → Budget $75.00, Actual $80.10, OVER by $5.10 (Robert $67.23 + Visa $12.87) — should show red/over indicator"
          ]
        },
        {
          "name": "Expense Budget — Under Budget (All View)",
          "items": [
            "Pets → Budget $50.00, Actual $45.67, remaining $4.33",
            "Fuel → Budget $50.00, Actual $42.30, remaining $7.70",
            "Service → Budget $100.00, Actual $89.99, remaining $10.01",
            "Other Entertainment → Budget $30.00, Actual $26.98, remaining $3.02",
            "Power → Budget $150.00, Actual $125.80, remaining $24.20",
            "Phone → Budget $90.00, Actual $89.50, remaining $0.50",
            "Water → Budget $50.00, Actual $45.00, remaining $5.00",
            "Medicine/Drug → Budget $50.00, Actual $28.43, remaining $21.57"
          ]
        },
        {
          "name": "Expense Budget — Exactly On Budget (All View)",
          "items": [
            "Rent → Budget $1,500.00, Actual $1,500.00, remaining $0.00 — exactly on budget",
            "Insurance: Auto → Budget $175.00, Actual $175.00, remaining $0.00 — exactly on budget",
            "Clothing: Clothes/Shoes → Budget $100.00, Actual $100.00 (TARGET $134.56 minus RETURN -$34.56), remaining $0.00"
          ]
        },
        {
          "name": "Categories With Spending But No Budget (All View)",
          "items": [
            "Other Daily Living → no budget set, Actual -$29.99 (Amazon refund, negative expense)",
            "Personal Supplies → no budget set, Actual $45.00",
            "Transportation → no budget set, Actual $18.50",
            "Books/Magazine → no budget set, Actual $22.95",
            "Hobby → no budget set, Actual $85.00",
            "Improvements → no budget set, Actual $287.34",
            "Doctor/Dentist/Optometrist → no budget set, Actual $150.00",
            "Personal Note (Loan) → no budget set, Actual $350.00"
          ]
        },
        {
          "name": "Budget Summary Totals (All View)",
          "items": [
            "Total Budgeted Income: $7,010.00 ($7,000 + $10)",
            "Total Actual Income: $12,612.45",
            "Total Budgeted Expenses: $2,720.00",
            "Total Actual Expenses: $3,710.60"
          ]
        }
      ]
    },
    {
      "title": "10. Budget Calculation Verification — Robert's View",
      "groups": [
        {
          "name": "Switch to Robert's Owner Filter",
          "items": [
            "Switch owner filter to 'Robert' on Budget page, February 2026"
          ]
        },
        {
          "name": "Robert's Income",
          "items": [
            "Take Home Pay → Actual $7,000.00 (budget $7,000, exactly on target)",
            "Interest Income → Actual $12.45 (budget $10, +$2.45 over)"
          ]
        },
        {
          "name": "Robert's Key Expense Checks",
          "items": [
            "Groceries → Actual $241.79 (budget $300, $58.21 remaining) — Under budget when Robert-only",
            "Dining/Eating Out → Actual $80.10 (budget $75, OVER by $5.10) — Checking $67.23 + Visa $12.87",
            "Fuel → Actual $42.30 (budget $50, $7.70 remaining)",
            "Service → Actual $89.99 (budget $100, $10.01 remaining)",
            "Other Entertainment → Actual $26.98 (budget $30, $3.02 remaining) — Netflix $15.99 + Spotify $10.99",
            "Rent → Actual $1,500.00 (budget $1,500, exactly on budget)",
            "Clothing: Clothes/Shoes → Actual $100.00 (TARGET $134.56 - RETURN $34.56)",
            "Improvements → Actual $287.34 (no budget, Lowe's purchase)",
            "Doctor/Dentist → Actual $150.00 (no budget)"
          ]
        },
        {
          "name": "Robert's Totals",
          "items": [
            "Robert's Total Income: $7,012.45",
            "Robert's Total Expenses: $3,020.86"
          ]
        }
      ]
    },
    {
      "title": "11. Budget Calculation Verification — Sarah's View",
      "groups": [
        {
          "name": "Switch to Sarah's Owner Filter",
          "items": [
            "Switch owner filter to 'Sarah' on Budget page, February 2026"
          ]
        },
        {
          "name": "Sarah's Actuals",
          "items": [
            "Take Home Pay → Actual $5,600.00 (budget $7,000, under by $1,400)",
            "Interest Income → Actual $0.00 (budget $10, under by $10)",
            "Groceries → Actual $191.24 (budget $300, $108.76 remaining) — Whole Foods $112.34 + Trader Joe's $78.90",
            "Dining/Eating Out → Actual $0.00 (budget $75, $75.00 remaining) — Sarah has no dining transactions",
            "Transportation → Actual $18.50 (no budget, Uber ride)",
            "Hobby → Actual $85.00 (no budget, Yoga Studio)",
            "Personal Supplies → Actual $45.00 (no budget, Sephora)",
            "Personal Note (Loan) → Actual $350.00 (no budget, Student Loan)"
          ]
        },
        {
          "name": "Sarah's Totals",
          "items": [
            "Sarah's Total Income: $5,600.00",
            "Sarah's Total Expenses: $689.74"
          ]
        }
      ]
    },
    {
      "title": "12. Reports Calculation Verification",
      "groups": [
        {
          "name": "Navigate to Reports",
          "items": [
            "Navigate to Reports page",
            "Select year 2026",
            "Select 'All' owner filter (if available)"
          ]
        },
        {
          "name": "Monthly Income Totals (All Users)",
          "items": [
            "January income total: $7,011.82 (Robert: 2×$3,500 + $11.82 interest)",
            "February income total: $12,612.45 (Robert: 2×$3,500 + $12.45 interest + Sarah: 2×$2,800)",
            "Annual income total: $19,624.27"
          ]
        },
        {
          "name": "Monthly Expense Totals (All Users)",
          "items": [
            "January expense total: $2,392.89 (Robert checking only)",
            "February expense total: $3,710.60 (Robert checking $2,187.61 + Visa $833.25 + Sarah $689.74)",
            "Annual expense total: $6,103.49"
          ]
        },
        {
          "name": "Net Income & Savings Metrics (All Users)",
          "items": [
            "January net: $4,618.93 ($7,011.82 - $2,392.89)",
            "February net: $8,901.85 ($12,612.45 - $3,710.60)",
            "Annual net: $13,520.78",
            "Savings rate: ~68.9% ($13,520.78 / $19,624.27 × 100)",
            "Average monthly savings: ~$6,760.39 ($13,520.78 / 2 months)"
          ]
        },
        {
          "name": "Key Category Breakdowns (All Users, Annual)",
          "items": [
            "Daily Living: Groceries — Jan $270.60, Feb $433.03, Total $703.63",
            "Household: Rent — Jan $1,500.00, Feb $1,500.00, Total $3,000.00",
            "Auto/Transportation: Service — Jan $245.00, Feb $89.99, Total $334.99",
            "Clothing: Clothes/Shoes — Jan $0, Feb $100.00 (net of return), Total $100.00",
            "Daily Living: Other Daily Living — Jan $0, Feb -$29.99 (refund), Total -$29.99"
          ]
        },
        {
          "name": "Robert-Only Filter",
          "items": [
            "Switch owner filter to 'Robert'",
            "Robert annual income: $14,024.27 (Jan $7,011.82 + Feb $7,012.45)",
            "Robert annual expenses: $5,413.75 (Jan $2,392.89 + Feb $3,020.86)",
            "Robert annual net: $8,610.52",
            "Robert savings rate: ~61.4%"
          ]
        },
        {
          "name": "Sarah-Only Filter",
          "items": [
            "Switch owner filter to 'Sarah'",
            "Sarah annual income: $5,600.00 (all in February)",
            "Sarah annual expenses: $689.74 (all in February)",
            "Sarah annual net: $4,910.26",
            "Sarah savings rate: ~87.7%",
            "January column shows $0 for all Sarah categories (no January data)"
          ]
        }
      ]
    },
    {
      "title": "13. Net Worth Setup — Balances & Assets",
      "groups": [
        {
          "name": "Enter Balance Snapshots",
          "items": [
            "Navigate to Net Worth page",
            "Enter balance for Robert's Checking: $8,542.50 (date: today)",
            "Enter balance for Savings Account: $25,000.00 (date: today)",
            "Enter balance for Rewards Visa: $1,876.25 (date: today) — this is the amount owed",
            "Enter balance for Sarah's Checking: $6,245.80 (date: today)"
          ]
        },
        {
          "name": "Add Depreciable Asset — Straight-Line",
          "items": [
            "Click 'Add Asset' on Net Worth page",
            "Name: MacBook Pro",
            "Purchase Date: 2025-02-01",
            "Cost: $2,500.00",
            "Lifespan: 5 years",
            "Salvage Value: $250.00",
            "Depreciation Method: Straight-Line",
            "Save the asset"
          ]
        },
        {
          "name": "Add Depreciable Asset — Declining Balance",
          "items": [
            "Click 'Add Asset' again",
            "Name: Honda Accord",
            "Purchase Date: 2024-02-01",
            "Cost: $28,000.00",
            "Lifespan: 10 years",
            "Salvage Value: $5,000.00",
            "Depreciation Method: Declining Balance",
            "Declining Rate: 15%",
            "Save the asset"
          ]
        }
      ]
    },
    {
      "title": "14. Net Worth Calculation Verification",
      "groups": [
        {
          "name": "Account Balances Section",
          "items": [
            "Robert's Checking shows balance: $8,542.50 (liquid)",
            "Savings Account shows balance: $25,000.00 (liquid)",
            "Sarah's Checking shows balance: $6,245.80 (liquid)",
            "Rewards Visa shows balance: $1,876.25 (liability)",
            "Total Liquid Assets: $39,788.30 ($8,542.50 + $25,000.00 + $6,245.80)"
          ]
        },
        {
          "name": "Straight-Line Depreciation — MacBook Pro",
          "items": [
            "MacBook Pro shows depreciation method: 'SL' or 'Straight-Line'",
            "Annual depreciation rate: ($2,500 - $250) / 5 = $450.00/year",
            "Age: ~1 year (purchased 2025-02-01, approximately 12-13 months ago)",
            "Current value: approximately $2,050 (cost $2,500 minus ~$450 depreciation)",
            "Value should be between $2,000 and $2,100 depending on exact test date"
          ]
        },
        {
          "name": "Declining Balance Depreciation — Honda Accord",
          "items": [
            "Honda Accord shows depreciation method: 'DB 15%' or 'Declining Balance'",
            "After ~2 years: value = $28,000 × (1 - 0.15)² = $28,000 × 0.7225 = $20,230.00",
            "Current value: approximately $20,230 (should be between $19,500 and $20,500 depending on exact test date)"
          ]
        },
        {
          "name": "Net Worth Total",
          "items": [
            "Liquid Assets total: $39,788.30",
            "Investment Assets total: $0.00 (no investment accounts with balances)",
            "Physical Assets total: approximately $22,280 (MacBook ~$2,050 + Honda ~$20,230)",
            "Liabilities total: $1,876.25 (credit card balance)",
            "Net Worth = Liquid + Investments + Physical Assets - Liabilities",
            "Expected Net Worth: approximately $60,192 ($39,788.30 + $0 + ~$22,280 - $1,876.25)",
            "Net Worth should be in the range $59,500 – $60,500 (variation due to asset depreciation timing)"
          ]
        }
      ]
    },
    {
      "title": "15. Dashboard KPI Verification",
      "groups": [
        {
          "name": "Navigate to Dashboard",
          "items": [
            "Navigate to Dashboard (logged in as Robert)",
            "Dashboard should reflect February 2026 as the current month"
          ]
        },
        {
          "name": "KPI Values",
          "items": [
            "Net Worth KPI: approximately $60,192 (matches Net Worth page total)",
            "Liquid Assets KPI: $39,788.30",
            "Monthly Income (February): $12,612.45 (all users combined)",
            "Monthly Expenses (February): $3,710.60 (all users combined)"
          ]
        },
        {
          "name": "Prior Month Comparison",
          "items": [
            "Prior month (January) income: $7,011.82",
            "Prior month (January) expenses: $2,392.89",
            "Income trend shows INCREASE from January ($7,011.82) to February ($12,612.45) — up ~$5,600",
            "Expense trend shows INCREASE from January ($2,392.89) to February ($3,710.60) — up ~$1,318"
          ]
        },
        {
          "name": "Spending by Category Chart",
          "items": [
            "Chart shows spending grouped by category group",
            "Largest group should be Household (~$1,787.34 — Rent $1,500 + Improvements $287.34)",
            "Daily Living group should show ~$573.81 (Groceries $433.03 + Dining $80.10 + Pets $45.67 + Personal Supplies $45.00 - Refund $29.99)",
            "The Amazon refund (-$29.99) should reduce the Daily Living group total (not appear separately)",
            "Verify all major spending categories are represented in the chart"
          ]
        }
      ]
    },
    {
      "title": "16. Duplicate Detection Test",
      "groups": [
        {
          "name": "Re-import Same CSV",
          "items": [
            "Navigate to Import page",
            "Select 'Robert's Checking' as the target account",
            "Upload file: .github/test-data/checking-february.csv (same file imported in Section 4)",
            "Map columns and proceed to Review & Categorize"
          ]
        },
        {
          "name": "Verify Duplicate Flags",
          "items": [
            "ALL 14 transactions should be flagged as duplicates ('Likely Duplicate' or 'Exact Duplicate' badges)",
            "Duplicate transactions should be automatically UNCHECKED (deselected for import)",
            "Click on a duplicate badge to see the Duplicate Comparison modal showing the existing matching transaction",
            "Verify the match shows same date, same amount, and similar description",
            "Import button should show '0 of 14 Transactions' (none selected) or be disabled"
          ]
        },
        {
          "name": "Verify No Double-Import",
          "items": [
            "Do NOT import (cancel/go back)",
            "Navigate to Transactions → filter Robert's Checking, February 2026 → still exactly 14 transactions (no duplicates created)"
          ]
        }
      ]
    }
  ]
}
